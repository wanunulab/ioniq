

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ionique &mdash; ionique 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01f34227"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ionique
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Nanopore Signal Analysis Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install_beginner.html">Installation for beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="ionique_starter.html">Install Ionique</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_vscode_start.html">Guide for VSCode and Python Installation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ionique</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ionique</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ioniq.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ionique">
<h1>ionique<a class="headerlink" href="#ionique" title="Link to this heading"></a></h1>
<section id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Link to this heading"></a></h2>
</section>
<section id="module-ionique.core">
<span id="ionique-core"></span><h2>ionique.core<a class="headerlink" href="#module-ionique.core" title="Link to this heading"></a></h2>
<blockquote>
<div><p>adaptation from “core.py” by Jacob Scheriber
<a class="reference external" href="https://github.com/jmschrei/PyPore">https://github.com/jmschrei/PyPore</a></p>
</div></blockquote>
<p>This holds the core data types which may be abstracted in
many different applications.
This module defines a tree-based framework for representing, parsing, and annotating
segments of ionic current data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.core.</span></span><span class="sig-name descname"><span class="pre">AbstractSegmentTree</span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for managing hierarchical segments.</p>
<p>This class supports a tree structure where each segment can contain multiple
child segments, enabling recursive parsing and analysis of nested data.
It provides utilities to manage relationships between segments, apply parsers,
and extract subsegments by rank.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the segment</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.add_child">
<span class="sig-name descname"><span class="pre">add_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnySegment</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.add_child" title="Link to this definition"></a></dt>
<dd><p>Add a single child</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.add_children">
<span class="sig-name descname"><span class="pre">add_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AnySegment</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.add_children" title="Link to this definition"></a></dt>
<dd><p>Add multiple children if:
1. Child position is the within parent’s segment.
2. The length of the child’s segment is &gt; 0
3. There is no overlap between consecutive children</p>
<p>Or add children with no check</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.children">
<span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AnySegment</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.children" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.clear_children">
<span class="sig-name descname"><span class="pre">clear_children</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.clear_children" title="Link to this definition"></a></dt>
<dd><p>Clear the list of children</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.climb_to_rank">
<span class="sig-name descname"><span class="pre">climb_to_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.climb_to_rank" title="Link to this definition"></a></dt>
<dd><p>Go up and find the segment with the specified rank
:return: segment</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.end">
<span class="sig-name descname"><span class="pre">end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.end" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.get_feature">
<span class="sig-name descname"><span class="pre">get_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.get_feature" title="Link to this definition"></a></dt>
<dd><p>Gets the ‘name’ feature of the current segment or its parent</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.get_top_parent">
<span class="sig-name descname"><span class="pre">get_top_parent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnySegment</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.get_top_parent" title="Link to this definition"></a></dt>
<dd><p>Recursively go up and find top most parent
:return: parent</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.n">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.n" title="Link to this definition"></a></dt>
<dd><p>Get the length of the segment
:return: len(segment)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.parent" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newrank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_child_rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.parse" title="Link to this definition"></a></dt>
<dd><p>Parses the data in the segment or at a particular rank of child segments
into children segments with a new rank.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parser</strong> (<a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><em>Parser</em></a>) – A parser object with a <cite>parse</cite> method and required input attributes.</p></li>
<li><p><strong>newrank</strong> (<em>str</em>) – Rank to assign to the newly created child segments.</p></li>
<li><p><strong>at_child_rank</strong> (<em>str</em><em> or </em><em>None</em>) – Determines whether to traverse the children tree down to a given rank.</p></li>
<li><p><strong>kwargs</strong> – Additional arguments to pass to the parser.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if parsing was successful, otherwise raises an exception.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.rank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.relative_end">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relative_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.relative_end" title="Link to this definition"></a></dt>
<dd><p>Get end position relative to parent segment
:return: end position</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.relative_slice">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relative_slice</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.relative_slice" title="Link to this definition"></a></dt>
<dd><p>Slice the array to get the data between end-start segment
:return: sliced np array</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.relative_start">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relative_start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.relative_start" title="Link to this definition"></a></dt>
<dd><p>Get the start position relative to parent segment
:return: start position</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.slice">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">slice</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.slice" title="Link to this definition"></a></dt>
<dd><p>Slice the array to get the data between start-end segment
:return: sliced np array</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.start">
<span class="sig-name descname"><span class="pre">start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.AbstractSegmentTree.start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.AbstractSegmentTree.traverse_to_rank">
<span class="sig-name descname"><span class="pre">traverse_to_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#ionique.core.AbstractSegmentTree.traverse_to_rank" title="Link to this definition"></a></dt>
<dd><p>Traverse the tree rank and get the list of the segments of the rank
:param: rank
:return: list of segments</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.core.MetaSegment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.core.</span></span><span class="sig-name descname"><span class="pre">MetaSegment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.core.AbstractSegmentTree" title="ionique.core.AbstractSegmentTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSegmentTree</span></code></a></p>
<p>The metadata on an abstract segment of ionic current. All information about a segment can be
loaded, without the expectation of the array of floats.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – Start index of the segment.</p></li>
<li><p><strong>end</strong> (<em>int</em>) – End index of the segment.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="#ionique.core.AbstractSegmentTree" title="ionique.core.AbstractSegmentTree"><em>AbstractSegmentTree</em></a><em> or </em><em>None</em>) – Parent segment in the tree (optional).</p></li>
<li><p><strong>rank</strong> (<em>str</em><em> or </em><em>None</em>) – Rank identifier for this segment (optional).</p></li>
<li><p><strong>unique_features</strong> (<em>dict</em>) – Dictionary of metadata features.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.current">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current</span></span><a class="headerlink" href="#ionique.core.MetaSegment.current" title="Link to this definition"></a></dt>
<dd><p>Get the current data of the segment if the segment correlates to the file
:return: current</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.delete" title="Link to this definition"></a></dt>
<dd><p>Delete itself. There are no arrays with which to delete references for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.duration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">duration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ionique.core.MetaSegment.duration" title="Link to this definition"></a></dt>
<dd><p>Get the duration of the segment = start - end
:return: duration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.from_json" title="Link to this definition"></a></dt>
<dd><p>Read in a metasegment from a JSON and return a metasegment object.
Either pass in a file which has a segment stored, or an actual JSON
object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.max">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max</span></span><a class="headerlink" href="#ionique.core.MetaSegment.max" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum value of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Maximum value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.mean">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><a class="headerlink" href="#ionique.core.MetaSegment.mean" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mean value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.min">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min</span></span><a class="headerlink" href="#ionique.core.MetaSegment.min" title="Link to this definition"></a></dt>
<dd><p>Calculate the minimum value of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Minimum value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.std">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">std</span></span><a class="headerlink" href="#ionique.core.MetaSegment.std" title="Link to this definition"></a></dt>
<dd><p>Calculate the standard deviation of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Standard deviation of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#ionique.core.MetaSegment.time" title="Link to this definition"></a></dt>
<dd><p>Get the time data of the segment if the corresponding rank is in file
:return: time</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.to_dict" title="Link to this definition"></a></dt>
<dd><p>Return a dict representation of the metadata, usually used prior to
converting the dict to a JSON.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.to_json" title="Link to this definition"></a></dt>
<dd><p>Return a JSON representation of this, by reporting the important
metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.to_meta">
<span class="sig-name descname"><span class="pre">to_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.MetaSegment.to_meta" title="Link to this definition"></a></dt>
<dd><p>Kept to allow for error handling, but since it’s already a metasegment
it won’t actually do anything.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.MetaSegment.unique_features">
<span class="sig-name descname"><span class="pre">unique_features</span></span><a class="headerlink" href="#ionique.core.MetaSegment.unique_features" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.core.Segment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.core.</span></span><span class="sig-name descname"><span class="pre">Segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.core.AbstractSegmentTree" title="ionique.core.AbstractSegmentTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSegmentTree</span></code></a></p>
<p>A segment of ionic current, and methods relevant for collecting metadata. The ionic current is
expected to be passed as a numpy array of floats. Metadata methods (mean, std..) are decorated
as properties to reduce overall computational time, making them calculated on the fly rather
than during analysis.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.__init__" title="Link to this definition"></a></dt>
<dd><p>The segment must have a list of ionic current, of which it stores some statistics about.
It may also take in as many keyword arguments as needed, such as start time or duration
if already known. Cannot override statistical measurements.
:param current: Numpy array of current data points.
:type current: np.ndarray
:param kwargs: Additional attributes like ‘start’, ‘end’, ‘rank’, etc.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.Segment.children">
<span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AnySegment</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ionique.core.Segment.children" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.delete" title="Link to this definition"></a></dt>
<dd><p>Deleting this segment requires deleting its reference to the ionic
current array, and then deleting itself.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.Segment.end">
<span class="sig-name descname"><span class="pre">end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.Segment.end" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.from_json" title="Link to this definition"></a></dt>
<dd><p>Read in a segment from a JSON and return a metasegment object. Either
pass in a file which has a segment stored, or an actual JSON object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.Segment.max">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max</span></span><a class="headerlink" href="#ionique.core.Segment.max" title="Link to this definition"></a></dt>
<dd><p>Calculate the maximum value of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Maximum value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.Segment.mean">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean</span></span><a class="headerlink" href="#ionique.core.Segment.mean" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mean value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.Segment.min">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min</span></span><a class="headerlink" href="#ionique.core.Segment.min" title="Link to this definition"></a></dt>
<dd><p>Calculate the minimum value of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Minimum value of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.Segment.n">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n</span></span><a class="headerlink" href="#ionique.core.Segment.n" title="Link to this definition"></a></dt>
<dd><p>Get the number of elements in the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of elements in the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.Segment.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.Segment.parent" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.Segment.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ionique.core.Segment.rank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.scale" title="Link to this definition"></a></dt>
<dd><p>Rescale all of the values to go from samples to seconds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.core.Segment.start">
<span class="sig-name descname"><span class="pre">start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.core.Segment.start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ionique.core.Segment.std">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">std</span></span><a class="headerlink" href="#ionique.core.Segment.std" title="Link to this definition"></a></dt>
<dd><p>Calculate the standard deviation of the current array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Standard deviation of the current array.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.to_dict" title="Link to this definition"></a></dt>
<dd><p>Return a dict representation of the metadata, usually used prior to
converting the dict to a JSON.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.to_json" title="Link to this definition"></a></dt>
<dd><p>Return a JSON representation of this, by reporting the important
metadata.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.core.Segment.to_meta">
<span class="sig-name descname"><span class="pre">to_meta</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.Segment.to_meta" title="Link to this definition"></a></dt>
<dd><p>Convert from a segment to a ‘metasegment’, which stores only metadata
about the segment and not the full array of ionic current.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.core.ignored">
<span class="sig-prename descclassname"><span class="pre">ionique.core.</span></span><span class="sig-name descname"><span class="pre">ignored</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">exceptions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.core.ignored" title="Link to this definition"></a></dt>
<dd><p>Replace the “try, except: pass” paradigm by replacing those three lines with a single line.
Taken from the latest 3.4 python update push by Raymond Hettinger, see:
<a class="reference external" href="http://hg.python.org/cpython/rev/406b47c64480">http://hg.python.org/cpython/rev/406b47c64480</a></p>
</dd></dl>

</section>
<section id="module-ionique.cparsers">
<span id="ionique-cparsers"></span><h2>ionique.cparsers<a class="headerlink" href="#module-ionique.cparsers" title="Link to this heading"></a></h2>
<p>This contains cython implementations of ionic current parsers which are in
parsers.py. Currently the only parser is StatSplit, which is implemented
as FastStatSplit.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.cparsers.</span></span><span class="sig-name descname"><span class="pre">FastStatSplit</span></span><a class="headerlink" href="#ionique.cparsers.FastStatSplit" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A cython implementation of the segmenter written by Kevin Karplus. Sped up approximately 50-100x
compared to the Python implementation depending on parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.best_single_split">
<span class="sig-name descname"><span class="pre">best_single_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.best_single_split" title="Link to this definition"></a></dt>
<dd><p>Wrapper for a single call to _best_single_split. It will find the
single best split in a series of current, and return the index of
that split. Returns a tuple of ( gain, index ) where gain is the
gain in variance by splitting there, and index is the index at which
the split should occur in the current array.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.min_gain">
<span class="sig-name descname"><span class="pre">min_gain</span></span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.min_gain" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.parse" title="Link to this definition"></a></dt>
<dd><p>Wrapper function for the segmentation, which is implemented in cython.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.parse_meta">
<span class="sig-name descname"><span class="pre">parse_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.parse_meta" title="Link to this definition"></a></dt>
<dd><p>Wrapper function for the segmentation, which is implemented in cython. returns meta segments (no current array)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.cparsers.FastStatSplit.score_samples">
<span class="sig-name descname"><span class="pre">score_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.FastStatSplit.score_samples" title="Link to this definition"></a></dt>
<dd><p>Return a series of lists scoring each sample. However, this isn’t just
scoring each sample once. Every time a split is detected, it will return
a new list with newly scored samples. In essence, it returns one list
per scan of the current using the recursive method.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.cparsers.pairwise">
<span class="sig-prename descclassname"><span class="pre">ionique.cparsers.</span></span><span class="sig-name descname"><span class="pre">pairwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.cparsers.pairwise" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-ionique.datatypes">
<span id="ionique-datatypes"></span><h2>ionique.datatypes<a class="headerlink" href="#module-ionique.datatypes" title="Link to this heading"></a></h2>
<p>Data structure definitions and session file management for analysis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.datatypes.</span></span><span class="sig-name descname"><span class="pre">SessionFileManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.SessionFileManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.core.MetaSegment" title="ionique.core.MetaSegment"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaSegment</span></code></a></p>
<p>Singleton-based session manager for hierarchical data.</p>
<p>This class inherits from <cite>MetaSegment</cite> and uses the <cite>Singleton</cite> metaclass
to ensure only one instance exists during a given session. It serves as
the root segment for a data analysis session and is responsible for managing
metadata and registered “affectors” (i.e., objects that modify or
interact with the session).</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.datatypes.SessionFileManager.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the session manager.</p>
<p>Sets the session start time and prepares the affector log structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.add_child">
<span class="sig-name descname"><span class="pre">add_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnySegment</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.datatypes.SessionFileManager.add_child" title="Link to this definition"></a></dt>
<dd><p>Add a single child segment to the session’s hierarchy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>child</strong> (<em>AnySegment</em>) – The segment to be added as a child.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.add_children">
<span class="sig-name descname"><span class="pre">add_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AnySegment</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.datatypes.SessionFileManager.add_children" title="Link to this definition"></a></dt>
<dd><p>Add multiple child segments to the session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>children</strong> (<em>list</em><em>[</em><em>AnySegment</em><em>]</em>) – A list of segments to be added as children.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'root'</span></em><a class="headerlink" href="#ionique.datatypes.SessionFileManager.rank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.register_affector">
<span class="sig-name descname"><span class="pre">register_affector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">affector</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.SessionFileManager.register_affector" title="Link to this definition"></a></dt>
<dd><p>Register an affector object that influences the session data.</p>
<p>Records metadata including class name, string representation, and timestamp,
and logs the event with a unique identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>affector</strong> (<em>object</em>) – An object that modifies or interacts with the session.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A UUID string uniquely identifying the registered affector.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.SessionFileManager.unique_features">
<span class="sig-name descname"><span class="pre">unique_features</span></span><a class="headerlink" href="#ionique.datatypes.SessionFileManager.unique_features" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.datatypes.</span></span><span class="sig-name descname"><span class="pre">TraceFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.TraceFile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.core.Segment" title="ionique.core.Segment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Segment</span></code></a></p>
<p>Data structure for representing a single trace file with current and optional voltage information.</p>
<p>This class inherits from <cite>Segment</cite> and encapsulates current and voltage data. It sets up segment metadata,
defines parent-child hierarchy, and optionally initializes child segments based on voltage steps.</p>
<p>Typical usage includes assigning metadata and organizing hierarchical
data structures for downstream processing or visualization.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'file'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.TraceFile.__init__" title="Link to this definition"></a></dt>
<dd><p>If voltage steps are provided, corresponding child segments of rank “vstep” are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current</strong> (<em>numpy.ndarray</em>) – current array.</p></li>
<li><p><strong>voltage</strong> (<em>list</em><em>[</em><em>tuple</em><em>[</em><em>tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>float</em><em>]</em><em>] or </em><em>None</em>) – Optional list of tuples containing (start, end) index pairs and voltage values.
Used to create child segments for each voltage step.</p></li>
<li><p><strong>rank</strong> (<em>str</em>) – Segment rank label, defaults to “file”.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="#ionique.core.Segment" title="ionique.core.Segment"><em>Segment</em></a><em> or </em><em>None</em>) – Optional parent segment to which this trace belongs.</p></li>
<li><p><strong>unique_features</strong> (<em>dict</em>) – Dictionary of metadata such as sampling frequency.</p></li>
<li><p><strong>metadata</strong> (<em>dict</em>) – Additional metadata.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.children">
<span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AnySegment</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ionique.datatypes.TraceFile.children" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.TraceFile.delete" title="Link to this definition"></a></dt>
<dd><p>Delete the current object, removing it from its parent</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.end">
<span class="sig-name descname"><span class="pre">end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.datatypes.TraceFile.end" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">AnySegment</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.datatypes.TraceFile.parent" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample_per_rank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_per_rank</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.datatypes.TraceFile.plot" title="Link to this definition"></a></dt>
<dd><p>Method for plotting</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ionique.datatypes.TraceFile.rank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.datatypes.TraceFile.start">
<span class="sig-name descname"><span class="pre">start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.datatypes.TraceFile.start" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-ionique.io">
<span id="ionique-io"></span><h2>ionique.io<a class="headerlink" href="#module-ionique.io" title="Link to this heading"></a></h2>
<p>Input/output utilities for data files.</p>
<p>This module provides an interface for loading, parsing, and preprocessing
signal data from various file formats (e.g., <cite>.edh</cite>, <cite>.opt</cite>, <cite>.abf</cite>, <cite>.dat</cite>, <cite>.xml</cite>). It defines a base reader class
and concrete implementations that handle format-specific logic, metadata extraction,
data alignment, and optional preprocessing steps.</p>
<p>This module is central to converting raw experimental data into analyzable form.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.io.</span></span><span class="sig-name descname"><span class="pre">AbstractFileReader</span></span><a class="headerlink" href="#ionique.io.AbstractFileReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An abstract class for reading various data files (.abf, .edh, .mat, .opt, .xml)
This class defines the structure for file readers</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.AbstractFileReader.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.accepted_keywords">
<span class="sig-name descname"><span class="pre">accepted_keywords</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#ionique.io.AbstractFileReader.accepted_keywords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.current_multiplier">
<span class="sig-name descname"><span class="pre">current_multiplier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#ionique.io.AbstractFileReader.current_multiplier" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.ext">
<span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'___'</span></em><a class="headerlink" href="#ionique.io.AbstractFileReader.ext" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.AbstractFileReader.read" title="Link to this definition"></a></dt>
<dd><p>Read a datafile or series of files. Files are identified according to their extension.
Data formats that come with a header file must be referred to by the header file.
If inheriting from the AbstractFileReader class, do not override this function;
instead, create a custom _read method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – file name or list of file names, typically</p>
</dd>
</dl>
<p>given as a string or PathLike object.
:type filename: str or os.PathLike or list[str] or list[os.PathLike]
:param <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs: keyword arguments passed directly to the file reader class
that matches the data format.
:return: [metadata, current, etc.. ]. If the input “filename” is a list,
this function returns a generator
object that yields the output of _read() for every file in the input list.
:rtype: tuple[dict,np.ndarray [,np.ndarray or tuple[slice,np.float32]]]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.AbstractFileReader.voltage_multiplier">
<span class="sig-name descname"><span class="pre">voltage_multiplier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#ionique.io.AbstractFileReader.voltage_multiplier" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.io.EDHReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.io.</span></span><span class="sig-name descname"><span class="pre">EDHReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edh_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage_compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.EDHReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.io.AbstractFileReader" title="ionique.io.AbstractFileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractFileReader</span></code></a></p>
<p>Reader class for loading <cite>.edh</cite> data files and their associated current data.</p>
<p>This class parses the <cite>.edh</cite> header file and automatically loads the corresponding signal data
(either from <cite>.abf</cite> or <cite>.dat</cite> files in the same directory). It extracts metadata, converts raw
current and voltage data to SI units, and supports optional preprocessing steps such as
voltage step segmentation, downsampling, and signal filtering.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.EDHReader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edh_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage_compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.EDHReader.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the EDHReader and load signal data from associated files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edh_filename</strong> (<em>str</em>) – Path to the <cite>.edh</cite> header file.</p></li>
<li><p><strong>voltage_compress</strong> (<em>bool</em>) – If True, splits signal into segments based on voltage steps.</p></li>
<li><p><strong>n_remove</strong> (<em>int</em>) – Number of samples to remove from the beginning of each voltage step.</p></li>
<li><p><strong>downsample</strong> (<em>int</em>) – Downsampling factor to reduce data size.</p></li>
<li><p><strong>prefilter</strong> (<em>callable</em><em> or </em><em>None</em>) – Callable to apply preprocessing to the current signal.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.EDHReader.accepted_keywords">
<span class="sig-name descname"><span class="pre">accepted_keywords</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['voltage_compress',</span> <span class="pre">'n_remove',</span> <span class="pre">'downsample',</span> <span class="pre">'prefilter']</span></em><a class="headerlink" href="#ionique.io.EDHReader.accepted_keywords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.EDHReader.current_multiplier">
<span class="sig-name descname"><span class="pre">current_multiplier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1e-09</span></em><a class="headerlink" href="#ionique.io.EDHReader.current_multiplier" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.EDHReader.ext">
<span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'.edh'</span></em><a class="headerlink" href="#ionique.io.EDHReader.ext" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.EDHReader.voltage_multiplier">
<span class="sig-name descname"><span class="pre">voltage_multiplier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.001</span></em><a class="headerlink" href="#ionique.io.EDHReader.voltage_multiplier" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.io.OPTReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.io.</span></span><span class="sig-name descname"><span class="pre">OPTReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage_compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.OPTReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.io.AbstractFileReader" title="ionique.io.AbstractFileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractFileReader</span></code></a></p>
<p>Reader for <cite>.opt</cite> data files with corresponding XML or <cite>_volt.opt</cite> metadata.</p>
<p>This class reads current data from <cite>.opt</cite> files and attempts to extract or reconstruct
corresponding voltage data using associated <cite>.xml</cite> or <cite>_volt.opt</cite> files found in the same
directory. It handles metadata extraction, signal preprocessing, voltage alignment, and
segment compression based on voltage steps.</p>
<p>Supported XML structures include both standard <cite>HWtiming_cap_step</cite> formats and timestamp-based
custom formats.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.OPTReader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage_compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.OPTReader.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the OPTReader instance and load corresponding files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opt_filename</strong> (<em>str</em>) – Path to the <cite>.opt</cite> header file.</p></li>
<li><p><strong>voltage_compress</strong> (<em>bool</em>) – If True, splits signal into segments based on voltage steps.</p></li>
<li><p><strong>n_remove</strong> (<em>int</em>) – Number of samples to remove from the beginning of each voltage step.</p></li>
<li><p><strong>downsample</strong> (<em>int</em>) – Downsampling factor to reduce data size.</p></li>
<li><p><strong>prefilter</strong> (<em>callable</em><em> or </em><em>None</em>) – Callable to apply preprocessing to the current signal.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.OPTReader.accepted_keywords">
<span class="sig-name descname"><span class="pre">accepted_keywords</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['voltage_compress',</span> <span class="pre">'n_remove',</span> <span class="pre">'downsample',</span> <span class="pre">'prefilter']</span></em><a class="headerlink" href="#ionique.io.OPTReader.accepted_keywords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.OPTReader.current_multiplier">
<span class="sig-name descname"><span class="pre">current_multiplier</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000000000.0</span></em><a class="headerlink" href="#ionique.io.OPTReader.current_multiplier" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.io.OPTReader.ext">
<span class="sig-name descname"><span class="pre">ext</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'.opt'</span></em><a class="headerlink" href="#ionique.io.OPTReader.ext" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.OPTReader.find_peaks_in_segment">
<span class="sig-name descname"><span class="pre">find_peaks_in_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.OPTReader.find_peaks_in_segment" title="Link to this definition"></a></dt>
<dd><p>Apply “find_peaks” on a segment of the current data and return
the indices of the found peak</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.OPTReader.find_peaks_slide_window">
<span class="sig-name descname"><span class="pre">find_peaks_slide_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_shift_duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sign</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'negative'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.OPTReader.find_peaks_slide_window" title="Link to this definition"></a></dt>
<dd><p>Find peaks in the current every time the voltage changes.
The search for the peaks happens in the window of the timestamp 0.02 seconds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.io.OPTReader.process_custom_xml">
<span class="sig-name descname"><span class="pre">process_custom_xml</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.io.OPTReader.process_custom_xml" title="Link to this definition"></a></dt>
<dd><p>Processes the custom XML file to extract voltage data, align the voltage waveform
with the current, and detect peaks in the current signal every time the voltage changes.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ionique.parsers">
<span id="ionique-parsers"></span><h2>ionique.parsers<a class="headerlink" href="#module-ionique.parsers" title="Link to this heading"></a></h2>
<p>Parser module for event and state segmentation in current recordings.
This module provides a framework for parsing current trace data. It includes an abstract base <cite>Parser</cite> class
and multiple concrete parser implementations for detecting spikes, noise, square pulses, and other event
structures in ionic current signals.</p>
<p>Some of the parsers and the parser base class were adapted from the
PyPore Package by Jacob Schreiber and Kevin Karplus (<a class="reference external" href="https://github.com/jmschrei/PyPore">https://github.com/jmschrei/PyPore</a>)</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.AutoSquareParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">AutoSquareParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_conductance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductance_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_padding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.AutoSquareParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>Class for building a straightforward pipeline of data analysis
to make it reusable with customized parameters</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.AutoSquareParser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold_baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_conductance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductance_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_padding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.AutoSquareParser.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.AutoSquareParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eff_sampling_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.AutoSquareParser.parse" title="Link to this definition"></a></dt>
<dd><p>Takes in a current segment, and returns a list of segment objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments containing the data, such as current</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples representing the start and end indices of the segment
and an empty dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.parsers.AutoSquareParser.required_parent_attributes">
<span class="sig-name descname"><span class="pre">required_parent_attributes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['current',</span> <span class="pre">'eff_sampling_freq',</span> <span class="pre">'voltage']</span></em><a class="headerlink" href="#ionique.parsers.AutoSquareParser.required_parent_attributes" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.FilterDerivativeSegmenter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">FilterDerivativeSegmenter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.FilterDerivativeSegmenter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>This parser will segment an event using a filter-derivative method. It will
first apply a bessel filter at a certain cutoff to the current, then it will
take the derivative of that, and segment when the derivative passes a
threshold.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.FilterDerivativeSegmenter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.FilterDerivativeSegmenter.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.FilterDerivativeSegmenter.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.FilterDerivativeSegmenter.parse" title="Link to this definition"></a></dt>
<dd><p>Apply the filter-derivative method to filter the ionic current.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.FilterDerivativeSegmenter.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.FilterDerivativeSegmenter.set_params" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">IVCurveAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_segment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveAnalyzer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>THIS CLASS IS NOT IMPLEMENTED YET. DO NOT USE.
Check for at Least Two Voltage Steps: confirm that the segment has at least two voltage steps.</p>
<p>Divide into Voltage Segments: separate data into  voltage segments.</p>
<p>Call <cite>IVAnalyzer</cite> on Parent Segment: compute the mean and std of the current in each
voltage segment.</p>
<p>Return an Array of (voltage: (imean, istd)) pair:</p>
<p>Also mean and std should be calulated in two ways</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveAnalyzer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_segment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveAnalyzer.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveAnalyzer.analyze">
<span class="sig-name descname"><span class="pre">analyze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveAnalyzer.analyze" title="Link to this definition"></a></dt>
<dd><p>Analyze each voltage step in a parent segment</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">IVCurveParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>THIS CLASS IS NOT IMPLEMENTED YET! DO NOT USE.
The class handles:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Identifies a file where an IV curve is recorded based on the pattern.</p></li>
</ol>
</div></blockquote>
<p>Here, the goal is to feed the voltage information to a module and have it search and do pattern matching to find one of
these possibilities. .This can be a parser that accepts voltage array or compressed voltage as one of the inputs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveParser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveParser.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.IVCurveParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.IVCurveParser.parse" title="Link to this definition"></a></dt>
<dd><p>Searches for a pattern in the voltage data to identify IV.
If none exists, the given datafile does not contain IV curves.
If one or multiple IV curves are found, it returns start and
end regions of each of them.
Returns: list of indices: start and end for each deteced IV curve</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.MemoryParse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">MemoryParse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">starts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ends</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.MemoryParse" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A parser based on being fed previous split points, and splitting a raw file based
those splits. Used predominately when loading previous split points from the
database cache, to reconstruct a parsed file from “memory.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.MemoryParse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">starts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ends</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.MemoryParse.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>starts</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – A list of start indices for each segment.</p></li>
<li><p><strong>ends</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – A list of end indices corresponding to each start index.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.MemoryParse.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.MemoryParse.parse" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.NoiseFilterParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">NoiseFilterParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noise_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detect_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.NoiseFilterParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>This unit is a parser subclass. when invoked on a segment (whole file or subsegment),
it identifies the areas where bad things happened, and areas where the data is clean.
Examples of bad things include high noise (60Hz noise from opening the cage), membrane
rupture, and membrane formation attempts. it produces children from the good
regions of the data and ignore the bad regions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.NoiseFilterParser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noise_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detect_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.NoiseFilterParser.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.NoiseFilterParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.NoiseFilterParser.parse" title="Link to this definition"></a></dt>
<dd><p>Takes in a current segment, and returns a list of segment objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments containing the data, such as current</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples representing the start and end indices of the segment
and an empty dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[tuple]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.Parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">Parser</span></span><a class="headerlink" href="#ionique.parsers.Parser" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>This class defines the interface and shared utility methods for parser implementations.
Parsers are used to segment  ionic current data
into structured regions of interest (events).</p>
<p>Subclasses should implement the <cite>parse</cite> method and define any additional logic
required to detect features in the data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.__init__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_json</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.from_json" title="Link to this definition"></a></dt>
<dd><p>Critical: Not implemented yet, figure out how to make this work in pythion</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.get_init_params">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_init_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.get_init_params" title="Link to this definition"></a></dt>
<dd><p>Get the initialization parameters of the parser class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary of initialization parameters, default None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.get_name">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.get_name" title="Link to this definition"></a></dt>
<dd><p>Get the name of the parser class
:return: The name of the class.
:rtype: str</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.get_process_inputs">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_process_inputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.get_process_inputs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.get_process_outputs">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_process_outputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.get_process_outputs" title="Link to this definition"></a></dt>
<dd><p>Get the outputs generated by processing</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of outputs generated by parse method</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.get_required_parent_attributes">
<span class="sig-name descname"><span class="pre">get_required_parent_attributes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.get_required_parent_attributes" title="Link to this definition"></a></dt>
<dd><p>Get the list of required attributes from the parent segment</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of required parent attributes</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.parse" title="Link to this definition"></a></dt>
<dd><p>Takes in a current segment, and returns a list of segment objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments containing the data, such as current</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples representing the start and end indices of the segment
and an empty dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.parsers.Parser.required_parent_attributes">
<span class="sig-name descname"><span class="pre">required_parent_attributes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['current']</span></em><a class="headerlink" href="#ionique.parsers.Parser.required_parent_attributes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.set_params" title="Link to this definition"></a></dt>
<dd><p>Updates each paramater presented in the GUI to the value input in the lineEdit
corresponding to that value.
:param param_dict: A dictionary
:type param_dict: dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.to_dict" title="Link to this definition"></a></dt>
<dd><p>Convert the parser’s attributes to a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary representation of the parser’s attributes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.Parser.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.Parser.to_json" title="Link to this definition"></a></dt>
<dd><p>Convert the parser’s attributes to a JSON string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em>, </em><em>default bool</em>) – If filename, it writes the JSON string to the specified file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representation of the parser’s attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">SpeedyStatSplit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gain_per_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">false_positive_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_segments_per_second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>A parser wrapper for the Cython-accelerated <cite>FastStatSplit</cite> algorithm.</p>
<p>See cparsers.pyx FastStatSplit for full documentation. This is just a
wrapper for the cyton implementation to add a GUI.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gain_per_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">false_positive_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_segments_per_second</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the SpeedyStatSplit instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampling_freq</strong> (<em>int</em>) – The sampling frequency of the data</p></li>
<li><p><strong>min_width</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum width of a segment, default=100</p></li>
<li><p><strong>max_width</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum width of a segment, default=1000000.</p></li>
<li><p><strong>window_width</strong> (<em>int</em><em>, </em><em>optional</em>) – Width of the window, defaults to 10000.</p></li>
<li><p><strong>min_gain_per_sample</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Minimum gain per sample, default=None</p></li>
<li><p><strong>false_positive_rate</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Expected false positive rate , default=None</p></li>
<li><p><strong>prior_segments_per_second</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Prior number of segments per second, default=None.</p></li>
<li><p><strong>cutoff_freq</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Cutoff frequency for filtering, default=None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.best_single_split">
<span class="sig-name descname"><span class="pre">best_single_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.best_single_split" title="Link to this definition"></a></dt>
<dd><p>Determine the best single split point in the current data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>current</strong> (<em>numpy.ndarray</em>) – The current data to be analyzed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The best split point</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the current data to detect segments using the FastStatSplit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>current</strong> (<em>numpy.ndarray</em>) – The current data to be parsed</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of detected segments</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.parse_meta">
<span class="sig-name descname"><span class="pre">parse_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.parse_meta" title="Link to this definition"></a></dt>
<dd><p>Parse the current data and extract meta information</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>current</strong> (<em>numpy.ndarray</em>) – The current data to be parsed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.set_params" title="Link to this definition"></a></dt>
<dd><p>Set the parameters</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.parsers.SpeedyStatSplit.uiTemplate">
<span class="sig-name descname"><span class="pre">uiTemplate</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[('sampling_freq',</span> <span class="pre">'spin',</span> <span class="pre">{'bounds':</span> <span class="pre">[0,</span> <span class="pre">None],</span> <span class="pre">'dec':</span> <span class="pre">True,</span> <span class="pre">'siPrefix':</span> <span class="pre">True,</span> <span class="pre">'step':</span> <span class="pre">1,</span> <span class="pre">'suffix':</span> <span class="pre">'Hz',</span> <span class="pre">'value':</span> <span class="pre">200000}),</span> <span class="pre">('min_width',</span> <span class="pre">'spin',</span> <span class="pre">{'dec':</span> <span class="pre">True,</span> <span class="pre">'int':</span> <span class="pre">True,</span> <span class="pre">'min':</span> <span class="pre">2,</span> <span class="pre">'step':</span> <span class="pre">1,</span> <span class="pre">'value':</span> <span class="pre">100}),</span> <span class="pre">('max_width',</span> <span class="pre">'spin',</span> <span class="pre">{'dec':</span> <span class="pre">True,</span> <span class="pre">'int':</span> <span class="pre">True,</span> <span class="pre">'step':</span> <span class="pre">1,</span> <span class="pre">'value':</span> <span class="pre">1000000}),</span> <span class="pre">('window_width',</span> <span class="pre">'spin',</span> <span class="pre">{'dec':</span> <span class="pre">True,</span> <span class="pre">'int':</span> <span class="pre">True,</span> <span class="pre">'step':</span> <span class="pre">1,</span> <span class="pre">'value':</span> <span class="pre">10000}),</span> <span class="pre">('cutoff_freq',</span> <span class="pre">'spin',</span> <span class="pre">{'hidden':</span> <span class="pre">True})]</span></em><a class="headerlink" href="#ionique.parsers.SpeedyStatSplit.uiTemplate" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.SpikeParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">SpikeParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prominence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prominence_snr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plateu_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fractional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpikeParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>A parser for detecting spike-like events in ionic current data.</p>
<p>This parser wraps <cite>scipy.signal.find_peaks</cite>, supporting thresholds
for features like peak height, prominence, and width. It computes event characteristics such
as dwell time, relative prominence, and peak positions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpikeParser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prominence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prominence_snr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plateu_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fractional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.parsers.SpikeParser.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the SpikeParser.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>None</em>) – Minimum spike height.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>None</em>) – Minimum vertical threshold.</p></li>
<li><p><strong>distance</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>None</em>) – Minimum horizontal distance between peaks.</p></li>
<li><p><strong>prominence</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>None</em>) – Minimum peak prominence.</p></li>
<li><p><strong>prominence_snr</strong> (<em>tuple</em><em> or </em><em>None</em>) – Alternative to prominence, specified as a tuple of signal-to-noise (SNR) ratios.</p></li>
<li><p><strong>width</strong> (<em>float</em><em> or </em><em>tuple</em><em> or </em><em>None</em>) – Full width at half maximum of the peak.</p></li>
<li><p><strong>wlen</strong> (<em>float</em><em> or </em><em>None</em>) – Width of the window used to calculate prominence.</p></li>
<li><p><strong>rel_height</strong> (<em>float</em>) – Relative height used in width calculation (range 0 to 1).</p></li>
<li><p><strong>plateu_size</strong> (<em>float</em><em> or </em><em>None</em>) – Minimum length of a flat-topped peak.</p></li>
<li><p><strong>fractional</strong> (<em>bool</em>) – Whether to interpret height, prominence, etc., as a fraction of the signal mean.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.SpikeParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.SpikeParser.parse" title="Link to this definition"></a></dt>
<dd><p>Takes in a current segment, and returns a list of segment objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments containing the data, such as current</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples representing the start and end indices of the segment
and an empty dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.parsers.SpikeParser.required_parent_attributes">
<span class="sig-name descname"><span class="pre">required_parent_attributes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['current',</span> <span class="pre">'sampling_freq',</span> <span class="pre">'mean',</span> <span class="pre">'start',</span> <span class="pre">'std']</span></em><a class="headerlink" href="#ionique.parsers.SpikeParser.required_parent_attributes" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.lambda_event_parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">lambda_event_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.lambda_event_parser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>A simple rule-based parser which defines events as a sequential series
of points which are below a certain threshold, then filtered based on other
critereon such as total time or minimum current. Rules can be passed in at
initiation, or set later, but must be a lambda function takes in a PreEvent
object and performs some boolean operation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.lambda_event_parser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">90</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.lambda_event_parser.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em>) – The threshold for detecting events (e.g., current &lt; threshold).</p></li>
<li><p><strong>rules</strong> (<em>list</em><em>[</em><em>callable</em><em>] or </em><em>None</em>) – A list of lambda functions that accept an event and return a bool.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.lambda_event_parser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.lambda_event_parser.parse" title="Link to this definition"></a></dt>
<dd><p>Perform a large capture of events by creating a boolean mask for when
the current is below a threshold, then detecting the edges in those masks,
and using the edges to partitition the sample. The events are
then filtered before being returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.lambda_event_parser.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.lambda_event_parser.set_params" title="Link to this definition"></a></dt>
<dd><p>Read in the data from the GUI and use it to customize
the rules or threshold of the parser.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.parsers.pairwise">
<span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">pairwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.pairwise" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>s -&gt; (s0,s1), (s1,s2), (s2, s3), …</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iterable</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.parsers.snakebase_parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.parsers.</span></span><span class="sig-name descname"><span class="pre">snakebase_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.snakebase_parser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ionique.parsers.Parser" title="ionique.parsers.Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parser</span></code></a></p>
<p>A simple parser based on dividing when the peak-to-peak
amplitude of a wave exceeds a certain threshold.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.snakebase_parser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.snakebase_parser.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize a Parser instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.snakebase_parser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.snakebase_parser.parse" title="Link to this definition"></a></dt>
<dd><p>Takes in a current segment, and returns a list of segment objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments containing the data, such as current</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of tuples representing the start and end indices of the segment
and an empty dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ionique.parsers.snakebase_parser.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ionique.parsers.snakebase_parser.set_params" title="Link to this definition"></a></dt>
<dd><p>Updates each paramater presented in the GUI to the value input in the lineEdit
corresponding to that value.
:param param_dict: A dictionary
:type param_dict: dict</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-ionique.utils">
<span id="ionique-utils"></span><h2>ionique.utils<a class="headerlink" href="#module-ionique.utils" title="Link to this heading"></a></h2>
<p>Signal Processing and Data Extraction Utilities</p>
<p>This module provides a set of utility functions and classes designed for use in signal
processing workflows.</p>
<p>These tools are intended for both internal processing and external use cases such as analysis
pipelines and API integrations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ionique.utils.Filter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'lowpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'highpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandstop'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'butter'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bessel'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'butter'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bidirectional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.Filter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class allows a user to apply low-pass, high-pass,
band-pass, or band-stop filters using standard filter types (Butterworth or Bessel).
Filters are implemented using second-order sections (SOS) for numerical stability and
can be applied in either forward-only or bidirectional mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoff_frequency</strong> (<em>float</em><em> or </em><em>list</em><em>[</em><em>float</em><em>]</em>) – The cutoff frequency or frequency band for the filter in Hz.
For band filters, provide the band center or list of [low, high] values.</p></li>
<li><p><strong>filter_type</strong> (<em>Literal</em><em>[</em><em>&quot;lowpass&quot;</em><em>, </em><em>&quot;highpass&quot;</em><em>, </em><em>&quot;bandpass&quot;</em><em>, </em><em>&quot;bandstop&quot;</em><em>]</em>) – The type of filter to apply. Options are “lowpass”, “highpass”, “bandpass”, or “bandstop”.</p></li>
<li><p><strong>filter_method</strong> (<em>Literal</em><em>[</em><em>&quot;butter&quot;</em><em>, </em><em>&quot;bessel&quot;</em><em>]</em>) – The filter method. Supported options: “butter” (Butterworth), “bessel”. Defaults to “butter”.</p></li>
<li><p><strong>order</strong> (<em>int</em>) – The order of the filter. Must be &gt;= 1. Defaults to 2.</p></li>
<li><p><strong>bidirectional</strong> (<em>bool</em>) – If True, applies filtering forward and backward using <cite>sosfiltfilt</cite>.
If False, uses causal <cite>sosfilt</cite>. Defaults to True.</p></li>
<li><p><strong>sampling_frequency</strong> (<em>float</em><em>, </em><em>optional</em>) – Sampling frequency of the signal in Hz.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.utils.Filter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoff_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'lowpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'highpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandstop'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'butter'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bessel'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'butter'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bidirectional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.utils.Filter.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.bidirectional">
<span class="sig-name descname"><span class="pre">bidirectional</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#ionique.utils.Filter.bidirectional" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.cutoff_frequency">
<span class="sig-name descname"><span class="pre">cutoff_frequency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#ionique.utils.Filter.cutoff_frequency" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.filter_method">
<span class="sig-name descname"><span class="pre">filter_method</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'butter'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bessel'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'butter'</span></em><a class="headerlink" href="#ionique.utils.Filter.filter_method" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.filter_type">
<span class="sig-name descname"><span class="pre">filter_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'lowpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'highpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandpass'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'bandstop'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#ionique.utils.Filter.filter_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.order">
<span class="sig-name descname"><span class="pre">order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#ionique.utils.Filter.order" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Filter.sampling_frequency">
<span class="sig-name descname"><span class="pre">sampling_frequency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ionique.utils.Filter.sampling_frequency" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.utils.Singleton">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">Singleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.Singleton" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>Generic singleton metaclass.</p>
<p>This metaclass ensures the same return every time the class is instanced.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.utils.Singleton.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.Singleton.__init__" title="Link to this definition"></a></dt>
<dd><p>Class initialization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Arguments for the class</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments for the class</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ionique.utils.Trimmer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">Trimmer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_to_remove</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vstep'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newrank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vstepgap'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.Trimmer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Segment trimming utility for hierarchical signal data.</p>
<p>This class operates on a segment tree. It traverses segments of a given rank (e.g., “vstep”) and trims
a fixed number of samples from the start of each segment. The resulting trimmed segments are added
as new child segments with a specified new rank (e.g., “vstepgap”).</p>
<p>This is useful when initial samples of each segment include artifacts that should be excluded from analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples_to_remove</strong> (<em>int</em>) – Number of samples to trim from the beginning of each segment.</p></li>
<li><p><strong>rank</strong> (<em>str</em>) – The hierarchical rank of segments to target for trimming. Defaults to “vstep”.</p></li>
<li><p><strong>newrank</strong> (<em>str</em>) – The rank name to assign to newly created trimmed child segments. Defaults to “vstepgap”.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ionique.utils.Trimmer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples_to_remove</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vstep'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newrank</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'vstepgap'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#ionique.utils.Trimmer.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Trimmer.newrank">
<span class="sig-name descname"><span class="pre">newrank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'vstepgap'</span></em><a class="headerlink" href="#ionique.utils.Trimmer.newrank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Trimmer.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'vstep'</span></em><a class="headerlink" href="#ionique.utils.Trimmer.rank" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ionique.utils.Trimmer.samples_to_remove">
<span class="sig-name descname"><span class="pre">samples_to_remove</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#ionique.utils.Trimmer.samples_to_remove" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.utils.extract_features">
<span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">extract_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom_rank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_ons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambdas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.extract_features" title="Link to this definition"></a></dt>
<dd><p>Extract features from hierarchical segments into a DataFrame.</p>
<p>Traverses a hierarchical segment structure down to <cite>bottom_rank</cite>, then collects feature values
from each segment. Static features are retrieved via <cite>get_feature()</cite>, constants can be added via
<cite>add_ons</cite>, and custom computed features can be provided through <cite>lambdas</cite>.</p>
<p>This is useful for generating structured datasets from annotated traces for statistical analysis or
machine learning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seg</strong> (<em>object</em>) – The root segment or trace object containing a hierarchical structure. It must implement <cite>traverse_to_rank()</cite> and support <cite>get_feature()</cite>.</p></li>
<li><p><strong>bottom_rank</strong> (<em>str</em>) – The rank name of the lowest-level segments from which to extract features.</p></li>
<li><p><strong>extractions</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of feature names to extract directly using <cite>get_feature()</cite> on each segment.
Common examples include: ‘mean’, ‘frac’, ‘duration’, ‘baseline’, ‘current’, ‘wrap’, ‘start’.</p></li>
<li><p><strong>add_ons</strong> (<em>dict</em>) – A dictionary of fixed key-value pairs to include as constant columns in the resulting DataFrame.</p></li>
<li><p><strong>lambdas</strong> (<em>dict</em>) – A dictionary mapping column names to lambda functions that compute derived values from each segment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame where each row corresponds to a bottom-rank segment and columns represent extracted and computed features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.utils.si_eval">
<span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">si_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.si_eval" title="Link to this definition"></a></dt>
<dd><p>Evaluate and convert a value with an SI unit prefix to its numeric base value.</p>
<p>This function handles both string-based and numeric values with
SI (International System of Units) prefixes such as “k” (kilo), “M” (mega), “μ” (micro), etc.
It multiplies the input value by the appropriate factor based on the SI prefix.</p>
<p>This utility is useful when parsing human-readable measurement strings or standardizing
units across data pipelines that mix strings and numeric formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>str</em><em> or </em><em>float</em>) – The value to be converted. Can be a string like “1.2 kHz” or a numeric value (int or float).</p></li>
<li><p><strong>unit</strong> (<em>str</em><em>, </em><em>optional</em>) – The unit string (e.g., “kHz”, “mV”). Required only if <cite>value</cite> is a numeric type.</p></li>
<li><p><strong>return_unit</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, returns a tuple containing the converted numeric value and the base unit (e.g., ‘Hz’).
If False, only the numeric value is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the input format is invalid or the unit is missing for numeric input.</p></li>
<li><p><strong>TypeError</strong> – If the value is neither a string nor a numeric type.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The converted value, optionally paired with the base unit.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float or tuple[float, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ionique.utils.split_voltage_steps">
<span class="sig-prename descclassname"><span class="pre">ionique.utils.</span></span><span class="sig-name descname"><span class="pre">split_voltage_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_tuples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ionique.utils.split_voltage_steps" title="Link to this definition"></a></dt>
<dd><p>Split a voltage signal into segments based on step changes.</p>
<p>This function detects changes in the voltage signal and splits it into individual
segments (or steps) wherever a change in value occurs. It is useful in analyzing
stepwise voltage protocols.</p>
<p>Optionally, a number of initial samples can be removed from each segment using the
<cite>n_remove</cite> parameter. The output can either be two separate arrays of start and end
indices, or a list of tuples representing each segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>voltage</strong> (<em>numpy.ndarray</em>) – 1D voltage signal array to be segmented.</p></li>
<li><p><strong>n_remove</strong> (<em>int</em>) – Number of samples to remove from the start of each split. Defaults to 0.</p></li>
<li><p><strong>as_tuples</strong> (<em>bool</em>) – If True, returns a list of (start, end) index tuples. If False, returns two arrays: start_indices and end_indices. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>n_remove</cite> is negative or larger than the start of the voltage changes.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Either:
- A tuple of (start_indices, end_indices), where each is a numpy array of indices.
- A list of (start, end) tuples if <cite>as_tuples=True</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[numpy.ndarray, numpy.ndarray] or list[tuple[int, int]]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-ionique">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ionique" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Ali Fallahi, Dinara Boyko, Wanunu Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>